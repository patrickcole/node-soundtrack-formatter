<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Soundtrack Formatter - reactOST</title>
  </head>
  <body>
    <h1>Soundtrack Formatter Tool</h1>
      <label>
        Video Duration:
        <input id="duration" type="text" value="03:15:14" />
      </label>
    </p>
    <p>
      <label>
        Track Listings:
        <textarea id="content_unformatted" name="content_unformatted">
          1-Bumper to Bumper <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=0s">0:00:00</a>
          2-The Morning Commute <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=430s">0:07:10</a>.7
          3-Wheels of Progress <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=713s">0:11:53</a>.8
          4-Deserted <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=1074s">0:17:54</a>.1
          5-Metropolis <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=1385s">0:23:05</a>.2
          6-ElectriCITY <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=1690s">0:28:10</a>.0
          7-Floating Population <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=2002s">0:33:22</a>.3
          8-Chain Reaction <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=2315s">0:38:35</a>.4
          9-Rush Hour <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=2693s">0:44:53</a>.8
          10-By The Bay <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=3014s">0:50:14</a>.6
          11-The New Hood <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=3380s">0:56:20</a>.6
          12-No Gridlock <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=3697s">1:01:37</a>.4
          13-Re-Development <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=4140s">1:09:00</a>.0
          14-Bohemian Street Jam <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=4471s">1:14:31</a>.0
          15-Urban Underground <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=4812s">1:20:12</a>.5
          16-Street Sweeper <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=5118s">1:25:18</a>.6
          17-Crosswalk Talk <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=5417s">1:30:17</a>.3
          18-Tarmack <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=5721s">1:35:21</a>.1
          19-NightOwl <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=6053s">1:40:53</a>.5
          20-EpiCenter <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=6372s">1:46:12</a>.3
          21-Gritty City <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=6754s">1:52:34</a>.6
          22-Zone System <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=7088s">1:58:08</a>.1
          23-Transit Angst <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=7302s">2:01:42</a>.6
          24-Landfill <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=7583s">2:06:23</a>.9
          25-Oasis <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=7900s">2:11:40</a>.2
          26-Area 52 <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=8265s">2:17:45</a>.3
          27-Big Deep <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=8722s">2:25:22</a>.3
          28-Arctica <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=8895s">2:28:15</a>.9
          29-Above The Clouds <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=9388s">2:36:28</a>.3
          30-Shape Shifter <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=9622s">2:40:22</a>.1
          31-Terrain <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=10077s">2:47:57</a>.3
          32-Without Form <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=10409s">2:53:29</a>.4
          33-Taking Shape <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=10799s">2:59:59</a>.6
          34-Primordial Dream <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=11059s">3:04:19</a>.9
          35-Parallel View <a class="yt-simple-endpoint style-scope yt-formatted-string" spellcheck="false" href="/watch?v=PSv37HwwojU&amp;list=PLHp5n26L7H0iJHp_7-VIgdftsSQI1nw4f&amp;index=5&amp;t=11380s">3:09:40</a>.9          
        </textarea>
      </label>
    </p>

    <button id="controls_submit">Submit</button>

    <hr />

    <textarea id="content_formatted"></textarea>

    <script>
      
      let albumDuration = document.querySelector('#duration');

      let submitBtn = document.querySelector('#controls_submit');
      let unformattedEl = document.querySelector('#content_unformatted');
      let formattedEl = document.querySelector('#content_formatted');

      async function submitData() {

        let album_json = {
          duration: albumDuration.value,
          content: unformattedEl.value
        };

        let json = { 
          method: 'POST', 
          headers: {'Accept': 'application/json', 'Content-Type': 'application/json'},
          body: JSON.stringify(album_json) 
        };

        let response = await fetch(`/format`, json);
        let data = await response.json();
        formattedEl.value = JSON.stringify(data, null, 2);
      }
      submitBtn.addEventListener('click', submitData);
    </script>
  </body>
</html>